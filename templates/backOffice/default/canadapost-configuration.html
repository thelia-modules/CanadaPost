{extends file="admin-layout.tpl"}

{block name="no-return-functions"}
    {$admin_current_location = 'modules'}
{/block}

{block name="page-title"}{intl d="canadapost.bo.default" l='CanadaPost configuration'}{/block}

{block name="check-resource"}admin.module{/block}
{block name="check-access"}view{/block}
{block name="check-module"}CanadaPost{/block}

{block name="main-content"}
    <div class="container" id="wrapper">
        <ul class="breadcrumb">
            <li><a href="{url path='/admin'}">{intl l="Home" d="canadapost.bo.default"}</a></li>
            <li><a href="{url path='/admin/modules'}">{intl l="Modules" d="canadapost.bo.default"}</a></li>
            <li>{intl l="CanadaPost configuration" d="canadapost.bo.default"}</li>
        </ul>

        <div class="general-block-decorator">
            <div class="title title-without-tabs">
                {intl l="Configure canadapost" d="canadapost.bo.default"}
            </div>

            <div class="row">
                <div class="col-md-12">
                    {if $success}
                        <div class="alert alert-success">
                            {intl l="Configuration correctly saved" d="canadapost.bo.default"}
                        </div>
                    {/if}

                    {form name="canadapost.configuration"}
                        <form action="{$current_url}" method="post">
                            {include "includes/inner-form-toolbar.html" hide_flags = 1 close_url={url path='/admin/modules'}}
                            <br/>

                            {form_field form=$form field="success_url"}
                            <input type="hidden" name="{$name}" value="{url path='/admin/modules'}" />
                            {/form_field}

                            {form_hidden_fields form=$form}

                            {form_field form=$form field="enabled"}
                            <div class="form-group">
                                <label class="control-label" for="{$label_attr.for}">
                                    <input type="checkbox" name="{$name}" id="{$label_attr.for}" {if $value}checked{/if} placeholder="{intl l='The configuration value enabled' d="canadapost.bo.default"}" />
                                    {$label}
                                    {if $required}<span class="required">*</span>{/if}

                                    {form_error form=$form field="enabled"}
                                    <br />
                                    <span class="error">{$message}</span>
                                    {/form_error}
                                </label>

                                {if ! empty($label_attr.help)}
                                    <span class="help-block">{$label_attr.help}</span>
                                {/if}
                            </div>
                            {/form_field}
                            {form_field form=$form field="mode_production"}
                            <div class="form-group">
                                <label class="control-label" for="{$label_attr.for}">
                                    <input type="checkbox" name="{$name}" id="{$label_attr.for}" {if $value}checked{/if} placeholder="{intl l='The configuration value mode_production' d="canadapost.bo.default"}" />
                                    {$label}
                                    {if $required}<span class="required">*</span>{/if}

                                    {form_error form=$form field="mode_production"}
                                    <br />
                                    <span class="error">{$message}</span>
                                    {/form_error}
                                </label>

                                {if ! empty($label_attr.help)}
                                    <span class="help-block">{$label_attr.help}</span>
                                {/if}
                            </div>
                            {/form_field}
                            {form_field form=$form field="customer_number"}
                            <div class="form-group">
                                <label class="control-label" for="{$label_attr.for}">
                                    {$label}
                                    {if $required}<span class="required">*</span>{/if}

                                    {form_error form=$form field="customer_number"}
                                    <br />
                                    <span class="error">{$message}</span>
                                    {/form_error}
                                </label>

                                <input type="text" class="form-control" name="{$name}" id="{$label_attr.for}" value="{$value}" placeholder="{intl l='The configuration value customer_number' d="canadapost.bo.default"}" />
                                {if ! empty($label_attr.help)}
                                    <span class="help-block">{$label_attr.help}</span>
                                {/if}
                            </div>
                            {/form_field}
                            {form_field form=$form field="username"}
                            <div class="form-group">
                                <label class="control-label" for="{$label_attr.for}">
                                    {$label}
                                    {if $required}<span class="required">*</span>{/if}

                                    {form_error form=$form field="username"}
                                    <br />
                                    <span class="error">{$message}</span>
                                    {/form_error}
                                </label>

                                <input type="text" class="form-control" name="{$name}" id="{$label_attr.for}" value="{$value}" placeholder="{intl l='The configuration value username' d="canadapost.bo.default"}" />
                                {if ! empty($label_attr.help)}
                                    <span class="help-block">{$label_attr.help}</span>
                                {/if}
                            </div>
                            {/form_field}
                            {form_field form=$form field="password"}
                            <div class="form-group">
                                <label class="control-label" for="{$label_attr.for}">
                                    {$label}
                                    {if $required}<span class="required">*</span>{/if}

                                    {form_error form=$form field="password"}
                                    <br />
                                    <span class="error">{$message}</span>
                                    {/form_error}
                                </label>

                                <input type="text" class="form-control" name="{$name}" id="{$label_attr.for}" value="{$value}" placeholder="{intl l='The configuration value password' d="canadapost.bo.default"}" />
                                {if ! empty($label_attr.help)}
                                    <span class="help-block">{$label_attr.help}</span>
                                {/if}
                            </div>
                            {/form_field}
                            {form_field form=$form field="test_username"}
                            <div class="form-group">
                                <label class="control-label" for="{$label_attr.for}">
                                    {$label}
                                    {if $required}<span class="required">*</span>{/if}

                                    {form_error form=$form field="test_username"}
                                    <br />
                                    <span class="error">{$message}</span>
                                    {/form_error}
                                </label>

                                <input type="text" class="form-control" name="{$name}" id="{$label_attr.for}" value="{$value}" placeholder="{intl l='The configuration value test_username' d="canadapost.bo.default"}" />
                                {if ! empty($label_attr.help)}
                                    <span class="help-block">{$label_attr.help}</span>
                                {/if}
                            </div>
                            {/form_field}
                            {form_field form=$form field="test_password"}
                            <div class="form-group">
                                <label class="control-label" for="{$label_attr.for}">
                                    {$label}
                                    {if $required}<span class="required">*</span>{/if}

                                    {form_error form=$form field="test_password"}
                                    <br />
                                    <span class="error">{$message}</span>
                                    {/form_error}
                                </label>

                                <input type="text" class="form-control" name="{$name}" id="{$label_attr.for}" value="{$value}" placeholder="{intl l='The configuration value test_password' d="canadapost.bo.default"}" />
                                {if ! empty($label_attr.help)}
                                    <span class="help-block">{$label_attr.help}</span>
                                {/if}
                            </div>
                            {/form_field}
                            {form_field form=$form field="quote_type_commercial"}
                            <div class="form-group">
                                <label class="control-label" for="{$label_attr.for}">
                                    <input type="checkbox" name="{$name}" id="{$label_attr.for}" {if $value}checked{/if} placeholder="{intl l='The configuration value quote_type_commercial' d="canadapost.bo.default"}" />
                                    {$label}
                                    {if $required}<span class="required">*</span>{/if}

                                    {form_error form=$form field="quote_type_commercial"}
                                    <br />
                                    <span class="error">{$message}</span>
                                    {/form_error}
                                </label>

                                {if ! empty($label_attr.help)}
                                    <span class="help-block">{$label_attr.help}</span>
                                {/if}
                            </div>
                            {/form_field}
                            {form_field form=$form field="contract_id"}
                            <div class="form-group">
                                <label class="control-label" for="{$label_attr.for}">
                                    {$label}
                                    {if $required}<span class="required">*</span>{/if}

                                    {form_error form=$form field="contract_id"}
                                    <br />
                                    <span class="error">{$message}</span>
                                    {/form_error}
                                </label>

                                <input type="text" class="form-control" name="{$name}" id="{$label_attr.for}" value="{$value}" placeholder="{intl l='The configuration value contract_id' d="canadapost.bo.default"}" />
                                {if ! empty($label_attr.help)}
                                    <span class="help-block">{$label_attr.help}</span>
                                {/if}
                            </div>
                            {/form_field}
                            {form_field form=$form field="insurance"}
                            <div class="form-group">
                                <label class="control-label" for="{$label_attr.for}">
                                    <input type="checkbox" name="{$name}" id="{$label_attr.for}" {if $value}checked{/if} placeholder="{intl l='The configuration value insurance' d="canadapost.bo.default"}" />
                                    {$label}
                                    {if $required}<span class="required">*</span>{/if}

                                    {form_error form=$form field="insurance"}
                                    <br />
                                    <span class="error">{$message}</span>
                                    {/form_error}
                                </label>

                                {if ! empty($label_attr.help)}
                                    <span class="help-block">{$label_attr.help}</span>
                                {/if}
                            </div>
                            {/form_field}
                            {form_field form=$form field="origin_postalcode"}
                            <div class="form-group">
                                <label class="control-label" for="{$label_attr.for}">
                                    {$label}
                                    {if $required}<span class="required">*</span>{/if}

                                    {form_error form=$form field="origin_postalcode"}
                                    <br />
                                    <span class="error">{$message}</span>
                                    {/form_error}
                                </label>

                                <input type="text" class="form-control" name="{$name}" id="{$label_attr.for}" value="{$value}" placeholder="{intl l='The configuration value origin_postalcode' d="canadapost.bo.default"}" />
                                {if ! empty($label_attr.help)}
                                    <span class="help-block">{$label_attr.help}</span>
                                {/if}
                            </div>
                            {/form_field}
                            {form_field form=$form field="disallowed_services"}
                            <div class="form-group">
                                <label class="control-label" for="{$label_attr.for}">
                                    {$label}
                                    {if $required}<span class="required">*</span>{/if}

                                    {form_error form=$form field="disallowed_services"}
                                    <br />
                                    <span class="error">{$message}</span>
                                    {/form_error}
                                </label>

                                <input type="text" class="form-control" name="{$name}" id="{$label_attr.for}" value="{$value}" placeholder="{intl l='The configuration value disallowed_services' d="canadapost.bo.default"}" />
                                {if ! empty($label_attr.help)}
                                    <span class="help-block">{$label_attr.help}</span>
                                {/if}
                            </div>
                            {/form_field}

                            {include "includes/inner-form-toolbar.html" hide_flags = 1 close_url={url path='/admin/modules'} page_bottom = 1}
                        </form>
                    {/form}
                </div>
            </div>
        </div>
    </div>
{/block}

{block name="javascript-initialization"}
{/block}